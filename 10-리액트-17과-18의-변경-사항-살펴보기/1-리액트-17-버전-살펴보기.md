## 1️⃣ 이벤트 위임 방식의 변경

```tsx
import { useEffect, useRef } from "react";

export default function Button() {
  const buttonRef = useRef(null);

  useEffect(() => {
    if (buttonRef.current) {
      buttonRef.current.onclick = function click() {
        alert("안녕하세요");
      };
    }
  }, []);

  function 안녕하세요() {
    alert("안녕하세요!");
  }

  return (
    <>
      <button onClick={안녕하세요}>리액트 버튼</button>
      <button ref={buttonRef}>리액트 버튼</button>
    </>
  );
}
```

1. 일반적인 버튼과 ref버튼의 차이가 있다.
2. 일반적인 버튼은 각각 DOM요소에 이벤트 핸들러를 추가하고, 리액트는 이벤트 핸들러를 이벤트 타입 당 하나의 핸들러(click, change)를 루트에 부착한다.

```html
<ul>
  <li />
  <li />
  <li />
  <li />
  <!-- ... -->
</ul>
```

1. 위와 같은 예시에서, 만약 모든 li 요소에 이벤트가 필요하다면 li에 이벤트를 다 추가할 수 있지만, ul에만 추가해서 이벤트를 위임한다면 더욱 많은 이점을 얻을 수 있다.
2. li가 추가, 또는 삭제 되더라도 이벤트 핸들러도 똑같이 수정할 필요가 없다.
3. 이벤트 추가를 한 번만 하면 된다.
4. 리액트 16 버전 까지는 모두 document에서 수행되고 있었지만, 17버전, 루트 요소로 변경하면서, 서로 다른 리액트 버전에서 발생할 수 있는 문제를 해결하였다.
5. 리액트 16에서는 모든 이벤트가 document에 달려 있으므로 stopPropagation에 의미가 없지만, 리액트 17의 경우에는 컴포넌트 루트에 달려 있으므로 의미가 있다.

![alt text](https://reactjs.org/static/bb4b10114882a50090b8ff61b3c4d0fd/21cdd/react_17_delegation.png)
